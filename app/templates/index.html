{% extends "base.html" %}

  {% block content %}

  <body onload="storeCheeseList(), getPuzzleID(), userVisited(), loadUser()">
    <header>
      <p onclick="toggleHelp()">
        <ion-icon name="help-circle-outline"></ion-icon>
      </p>
      <h1>CURDLE</h1>
      <p onclick="toggleStats()">
        <ion-icon name="stats-chart-outline"></ion-icon>
      </p>
    </header>
  <section class="game-container">

    <section class="image">
      {% block cheese_image %}
      <!-- Ignore error here code works fine. -->
      <div id="cheese-image" style="background-image: url('{{ url_for('static', filename=image ) }}')"></div>
      {% endblock %}
    </section>


    <section class="results">
      <div id="grid-container">
        <div id="result-1"></div>
        <div class="word one" id="word-1"></div>
        <div class="world one" id="world-1"></div>
        <div class="mold one" id="mold-1"></div>
        <div class="animal one" id="animal-1"></div>
        <div class="type one" id="type-1"></div>
        <div id="result-2"></div>
        <div class="word two" id="word-2"></div>
        <div class="world two" id="world-2"></div>
        <div class="mold two" id="mold-2"></div>
        <div class="animal two" id="animal-2"></div>
        <div class="type two" id="type-2"></div>
        <div id="result-3"></div>
        <div class="word three" id="word-3"></div>
        <div class="world three" id="world-3"></div>
        <div class="mold three" id="mold-3"></div>
        <div class="animal three" id="animal-3"></div>
        <div class="type three" id="type-3"></div>
        <div id="result-4"></div>
        <div class="word four" id="word-4"></div>
        <div class="world four" id="world-4"></div>
        <div class="mold four" id="mold-4"></div>
        <div class="animal four" id="animal-4"></div>
        <div class="type four" id="type-4"></div>
        <div id="result-5"></div>
        <div class="word five" id="word-5"></div>
        <div class="world five" id="world-5"></div>
        <div class="mold five" id="mold-5"></div>
        <div class="animal five" id="animal-5"></div>
        <div class="type five" id="type-5"></div>
        <div id="result-6"></div>
        <div class="word six" id="word-6"></div>
        <div class="world six" id="world-6"></div>
        <div class="mold six" id="mold-6"></div>
        <div class="animal six" id="animal-6"></div>
        <div class="type six" id="type-6"></div>
      </div>
    </section>

    <section class="guess-container">
      <div id="guess-textbox">
        <input list="cheese-names" id="cheese-choice" name="cheese-choice" />
        <datalist id="cheese-names">
          {% for cheese in cheeses %}
          <option value="{{ cheese }}">
            {% endfor %}
        </datalist>
      </div>

      <div id="guess-button">
        <button id="button" type="submit" onclick="entryTest(document.getElementById('cheese-choice').value)">GUESS</button>
      </div>

      <div id="correct-cheese">
        <p id="correct-cheese-text">Cheddar</p>
      </div>

      </div>

      <div id="share-button">
        <button id="share" onclick="clipboard()">SHARE</button>
      </div>

    </section>
  </section>

  <div class="popup" id="popup-1">
    <div class="overlay"></div>
    <div class="content">
      <div class="close-btn" onclick="togglePopup()">&times;</div>
      <h2>Please enter a valid cheese!</h2>
      <p>See the drop down menu for a list.</p>
    </div>
  </div>


  <div class="help" id="help-page">
    <div class="overlay"></div>
    <div class="content">
      <div class="close-btn" onclick="toggleHelp()">&times;</div>
      <h2>HOW TO PLAY</h2>
      <p>Guess the CURDLE in 6 guesses.</p>
      <p>Each guess must be a valid cheese. See the dropdown menu.</p>
      <p>After each guess you will be told if your guess is consistent with the continent,
        country, and animal of oirign of the answer. As well as it's mold content, and type.
      </p>
      <h3>EXAMPLES</h3>
      <div id="grid-container-e1">
        <div class="word e" id="word-e"><p>Cheddar</p></div>
        <div class="world e" id="world-e"><i style="color: orange" class="fa fa-globe"></i></div>
        <div class="mold e" id="mold-e"><i style="color: green" class="fa-solid fa-bacteria"></i></div>
        <div class="animal e" id="animal-e"><i style="color: red" class="fa-solid fa-paw"></i></div>
        <div class="type e" id="type-e"><i style="color: red" class="fas fa-cheese"></i></div>
      </div>
      <p>The cheese is incorrect, continent of origin is consistent (country different), mold content is consistent, animal is different, and the cheese type is different.</p>
      <div id="grid-container-e2">
        <div class="word e" id="word-e"><p>Cheddar</p></div>
        <div class="world e" id="world-e"><i style="color: green" class="fa fa-globe"></i></div>
        <div class="mold e" id="mold-e"><i style="color: red" class="fa-solid fa-bacteria"></i></div>
        <div class="animal e" id="animal-e"><i style="color: red" class="fa-solid fa-paw"></i></div>
        <div class="type e" id="type-e"><i style="color: red" class="fas fa-cheese"></i></div>
      </div>
      <p>Only the continent and country of origin of the your guess is consistent with the correct answer.</p>
      <div id="grid-container-e3">
        <div class="word e" id="word-e" style="border: 3px solid green"><p>Cheddar</p></div>
        <div class="world e" id="world-e"><i style="color: green" class="fa fa-globe"></i></div>
        <div class="mold e" id="mold-e"><i style="color: green" class="fa-solid fa-bacteria"></i></div>
        <div class="animal e" id="animal-e"><i style="color: green" class="fa-solid fa-paw"></i></div>
        <div class="type e" id="type-e"><i style="color: green" class="fas fa-cheese"></i></div>
      </div>
      <p>You have guessed the correct cheese.</p>
      <p style="font-weight:600; text-align: center; margin: 16px;">A new CURDLE will be available each day!</p>
    </div>
  </div>


  <div class="stats" id="popup-3">
    <div class="overlay"></div>
    <div class="content">
      <div class="close-btn" onclick="toggleStats()">&times;</div>
      <h2>Statistics</h2>
      <div id="statistics">
        <div id="played">
          <p id ="played_text"></p>
          <p class="statName">Played</p>
        </div>
        <div id="winrate">
          <p id ="winrate_text"></p>
          <p class="statName">Win %</p>
        </div>
        <div id="streak">
          <p id ="streak_text"></p>
          <p class="statName">Current Streak</p>
        </div>
        <div id="best-streak">
          <p id ="best_text"></p>
          <p class="statName">Max Streak</p>
        </div>
      </div>
      <h3>Guess Distribution:</h3>
      <div id="distribution-container">
        <div class="dist one">
          <p>1</p>
          <div class="bar" id="bar1"><p></p></div>
        </div>
        <div class="dist two">
          <p>2</p>
          <div class="bar" id="bar2"><p></p></div>
        </div>
        <div class="dist three">
          <p>3</p>
          <div class="bar" id="bar3"><p></p></div>
        </div>
        <div class="dist four">
          <p>4</p>
          <div class="bar" id="bar4"><p></p></div>
        </div>
        <div class="dist five">
          <p>5</p>
          <div class="bar" id="bar5"><p></p></div>
        </div>
        <div class="dist six">
          <p>6</p>
          <div class="bar" id="bar6"><p></p></div>
        </div>
      </div>
    </div>
  </div>


  <div class="popup" id="popup-4">
    <div class="overlay"></div>
    <div class="content">
      <div class="close-btn" onclick="toggleCongrats()">&times;</div>
      <h2>Congratulations!</h2>
      <p>You have completed the puzzle.</p>
      
    </div>
  </div>

  </body>

{% endblock %}